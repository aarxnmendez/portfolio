---
import Icons from "@/components/ui/Icons.astro";

interface Props {
  lang: "en" | "es";
}

const { lang } = Astro.props;

const content =
  lang === "en"
    ? (await import("@/data/en/education")).content
    : (await import("@/data/es/education")).content;
---

<!-- Education Section -->
<article id="education" class="flex flex-col gap-5 scroll-mt-25">
  <h2>
    {content.title}<br /><span class="opacity-15">{content.subtitle}</span>
  </h2>
  <div class="relative flex flex-col gap-20 mt-6 pt-8">
    <!-- Timeline Line -->
    <div
      class="absolute left-1/2 top-0 bottom-0 w-0.5 bg-surface/20 -translate-x-1/2"
      aria-hidden="true"
    >
    </div>

    {
      content.education.map((edu) => (
        <div class="relative grid grid-cols-2 gap-12 items-start group">
          {edu.position === "right" ? (
            <>
              <div class="flex flex-col items-end pr-4">
                <p class="!text-sm">{edu.period}</p>
              </div>
              <div class="flex flex-col gap-3 pl-4">
                <div class="flex flex-col gap-1">
                  <h3>{edu.degree}</h3>
                  <div class="flex items-center gap-1.5">
                    <Icons name="education" size={14} class="opacity-50" />
                    <p class="!text-sm">{edu.institution}</p>
                  </div>
                </div>
                <p>{edu.description}</p>
              </div>
            </>
          ) : (
            <>
              <div class="flex flex-col gap-3 text-right pr-4">
                <div class="flex flex-col gap-1">
                  <h3>{edu.degree}</h3>
                  <div class="flex items-center gap-1.5 justify-end">
                    <p class="!text-sm">{edu.institution}</p>
                    <Icons name="education" size={14} class="opacity-50" />
                  </div>
                </div>
                <p>{edu.description}</p>
              </div>
              <div class="flex flex-col pl-4">
                <p class="!text-sm">{edu.period}</p>
              </div>
            </>
          )}
          <div
            class="absolute left-1/2 top-1 w-3 h-3 rounded-full bg-primary ring-4 ring-background -translate-x-1/2 transition-transform duration-300 group-hover:scale-125"
            aria-hidden="true"
          />
        </div>
      ))
    }
  </div>
</article>
